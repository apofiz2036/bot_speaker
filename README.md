# Телеграм бот с возможностью распознания речи
Бот использует  интеграцию с DialogFlow. DialogFlow— это платформа для обработки естественного языка от Google. Бот работает в телеграмме и в контакте.

## Установка
1. Скачайте репозиторий:
```bash
git clone <ваш репозиторий>
```
2. Установите зависимости:
```bash
pip install -r requirements.txt
```
3. Создайте файл .env в корне проекта и добавьте свои токены и идентификаторы:
```
TELEGRAM_TOKEN=Ваш телеграм токен
TELEGRAM_CHAT_ID=телеграмм id в который будут отправлятся данные об ошибках
GOOGLE_APPLICATION_CREDENTIALS=файл с данными для входа на google, рекомендуется "credentials.json"
DIALOGFLOW_PROJECT_ID=айди DialogFlow
VK_TOKEN=Токен вконтакте

```
4. Поместите файл credentials.json в корень проекта.


## Использование
1. Запустите скрипт следующей командой для телеграмма:
```
python tg_bot.py
```
Для работы Вконтакте: 
```
python vk_bot.py
```

## Как это работает
1. Пользователь отправляет боту текстовое сообщение.
2. Бот передаёт текст в DialogFlow для анализа.
3. DialogFlow возвращает ответ на основе настроенных "интентов" (сценариев).
4. Бот отправляет ответ пользователю.

## Зависимости
- requests — для выполнения HTTP-запросов. Версии 2.32.3
- python-telegram-bot — для работы с Telegram Bot API. Версии 13.7
- python-dotenv — для загрузки переменных окружения из файла .env. Версии 1.0.1

# Загрузка интентов в DialogFlow
Скрипт download_intent.py добавляет в DialogFlow готовые шаблоны вопросов и ответов (интенты) из файла questions.json

## Как использовать:
1. Подготовьте файл questions.json в формате:
```
{
  "Название_интента": {
    "questions": ["Вопрос 1", "Вопрос 2"],
    "answer": "Ответ бота"
  }
}
```
2. Запустите скрипт:
```python download_intent.py
```

## Что делает скрипт:
1. Читает вопросы и ответы из questions.json
2. Создает в DialogFlow интенты с примерами фраз и ответами